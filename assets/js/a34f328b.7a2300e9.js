"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4692],{5159:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"middleware/arrow","title":"arrow","description":"Provides positioning data for an arrow element (triangle or caret) inside the floating element, such that it appears to be pointing toward the center of the reference element.","source":"@site/docs/middleware/arrow.md","sourceDirName":"middleware","slug":"/middleware/arrow","permalink":"/aether/docs/middleware/arrow","draft":false,"unlisted":false,"editUrl":"https://github.com/quamatic/aether/tree/main/website/docs/middleware/arrow.md","tags":[],"version":"current","frontMatter":{"title":"arrow"},"sidebar":"aether","previous":{"title":"hide","permalink":"/aether/docs/middleware/hide"},"next":{"title":"inline","permalink":"/aether/docs/middleware/inline"}}');var a=t(6106),l=t(2036),s=t(9269),i=t(8914);const o={title:"arrow"},d=void 0,c={},u=[{value:"Example",id:"example",level:2},{value:"Input",id:"input",level:2},{value:"<code>element</code>",id:"element",level:3},{value:"<code>padding</code>",id:"padding",level:3},{value:"Data",id:"data",level:2},{value:"<code>x</code>",id:"x",level:3},{value:"<code>y</code>",id:"y",level:3},{value:"<code>centerOffset</code>",id:"centeroffset",level:3},{value:"<code>alignmentOffset</code>",id:"alignmentoffset",level:3},{value:"Order",id:"order",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Provides positioning data for an arrow element (triangle or caret) inside the floating element, such that it appears to be pointing toward the center of the reference element."}),"\n",(0,a.jsx)(n.p,{children:"This is useful to add an additional visual cue to the floating element about which element it is referring to."}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.p,{children:"The layout box of the arrow element should be a square with equal width and height. Inner or pseudo-elements may have a different aspect ratio."}),"\n",(0,a.jsxs)(n.p,{children:["Pass the ",(0,a.jsx)(n.code,{children:"element"})," to the ",(0,a.jsx)(n.code,{children:"arrow()"})," middleware and assign the dynamic styles using the coordinates data available in ",(0,a.jsx)(n.code,{children:"data.arrow"}),":"]}),"\n",(0,a.jsxs)(s.A,{groupId:"package-manager",children:[(0,a.jsx)(i.A,{value:"wally",label:"luau",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-luau",children:"local Aether = require(path.to.aether)\n\nlocal arrow = ... -- This should be a gui object.\n\nlocal result = Aether.process(reference, target, {\n    middleware = {\n        Aether.arrow({\n            element = arrow,\n        })\n    }\n})\n\nlocal data = result.data.arrow\narrow.Position = UDim2.fromOffset(data.x or 0, data.y or 0)\n"})})}),(0,a.jsx)(i.A,{value:"roblox-ts",label:"roblox-ts",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import { process, arrow } from "@rbxts/aether"\n\nconst arrow = ... // This should be a GuiObject\n\nconst result = process(reference, target, {\n    middleware: [\n        arrow({ element: arrow })\n    ]\n})\n\n// This is an odd looking example, but could be much better\n\n// Just note that "arrow" could not exist (the element could possibly be undefined),\n// and the selected axes (x or y) is based on the placement.\n\nconst data = result.data?.arrow\narrow.Position = UDim2.fromOffset(data?.x ?? 0, data?.y ?? 0)\n'})})})]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["Unlike the floating element, which has both coordinates defined at all times, the arrow only has one defined. Due to this, either ",(0,a.jsx)(n.code,{children:"x"})," or ",(0,a.jsx)(n.code,{children:"y"})," will be ",(0,a.jsx)(n.code,{children:"nil"}),", depending on the side of placement."]})}),"\n",(0,a.jsxs)(n.p,{children:["This middleware is designed only to position the arrow on one axis (",(0,a.jsx)(n.code,{children:"x"})," for ",(0,a.jsx)(n.code,{children:'"top"'})," or ",(0,a.jsx)(n.code,{children:'"bottom"'})," placements). The other axis is considered \u201cstatic\u201d, which means it does not need to be positioned dynamically."]}),"\n",(0,a.jsxs)(n.p,{children:["You may however want to position ",(0,a.jsx)(n.strong,{children:"both"})," axes statically in the following scenario:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The reference element is either wider or taller than the floating element;"}),"\n",(0,a.jsxs)(n.li,{children:["The floating element is using an edge alignment (",(0,a.jsx)(n.code,{children:"-start"})," or ",(0,a.jsx)(n.code,{children:"-end"})," placement)."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"input",children:"Input"}),"\n",(0,a.jsxs)(n.p,{children:["This is the input you can pass to ",(0,a.jsx)(n.code,{children:"arrow()"}),":"]}),"\n",(0,a.jsxs)(s.A,{groupId:"package-manager",children:[(0,a.jsx)(i.A,{value:"wally",label:"luau",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-luau",children:"type Input = {\n    element: GuiObject?,\n    padding: Padding?,\n}\n"})})}),(0,a.jsx)(i.A,{value:"roblox-ts",label:"roblox-ts",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"interface Input {\n    element?: GuiObject;\n    padding?: Padding;\n}\n"})})})]}),"\n",(0,a.jsx)(n.h3,{id:"element",children:(0,a.jsx)(n.code,{children:"element"})}),"\n",(0,a.jsxs)(n.p,{children:["Default value: ",(0,a.jsx)(n.code,{children:"nil"})]}),"\n",(0,a.jsxs)(n.p,{children:["This is the arrow element to be positioned, which ",(0,a.jsx)(n.strong,{children:"must"})," be a child of the floating element."]}),"\n",(0,a.jsx)(n.h3,{id:"padding",children:(0,a.jsx)(n.code,{children:"padding"})}),"\n",(0,a.jsxs)(n.p,{children:["Default value: ",(0,a.jsx)(n.code,{children:"0"})]}),"\n",(0,a.jsxs)(n.p,{children:["This describes the ",(0,a.jsx)(n.a,{href:"../types#padding",children:"Padding"})," between the arrow and the edges of the floating element."]}),"\n",(0,a.jsx)(n.h2,{id:"data",children:"Data"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"arrow()"})," passes the following middleware data:"]}),"\n",(0,a.jsxs)(s.A,{groupId:"package-manager",children:[(0,a.jsx)(i.A,{value:"wally",label:"luau",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-luau",children:"type Data = {\n    x: number?,\n    y: number?,\n    centerOffset: number,\n    alignmentOffset: number?,\n}\n"})})}),(0,a.jsx)(i.A,{value:"roblox-ts",label:"roblox-ts",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"interface Data {\n    x?: number;\n    y?: number;\n    centerOffset: number;\n    alignmentOffset?: number;\n}\n"})})})]}),"\n",(0,a.jsx)(n.h3,{id:"x",children:(0,a.jsx)(n.code,{children:"x"})}),"\n",(0,a.jsx)(n.p,{children:"This property exists if the arrow should be offset on the x-axis."}),"\n",(0,a.jsx)(n.h3,{id:"y",children:(0,a.jsx)(n.code,{children:"y"})}),"\n",(0,a.jsx)(n.p,{children:"This property exists if the arrow should be offset on the y-axis."}),"\n",(0,a.jsx)(n.h3,{id:"centeroffset",children:(0,a.jsx)(n.code,{children:"centerOffset"})}),"\n",(0,a.jsx)(n.p,{children:"This property describes where the arrow actually is relative to where it could be if it were allowed to overflow the floating element in order to stay centered to the reference element."}),"\n",(0,a.jsx)(n.p,{children:"This enables two useful things:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["You can hide the arrow if it can\u2019t stay centered to the reference, i.e. ",(0,a.jsx)(n.code,{children:"centerOffset ~= 0"})]}),"\n",(0,a.jsx)(n.li,{children:"You can interpolate the shape of the arrow (e.g. skew it) so it stays centered as best as possible."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"alignmentoffset",children:(0,a.jsx)(n.code,{children:"alignmentOffset"})}),"\n",(0,a.jsx)(n.p,{children:"This property exists if the reference is small enough that the arrow's padding causes it to\nto point to nothing for an aligned placement."}),"\n",(0,a.jsx)(n.h2,{id:"order",children:"Order"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"arrow()"})," should generally be placed toward the end of your middleware array, after ",(0,a.jsx)(n.code,{children:"shift()"})," or ",(0,a.jsx)(n.code,{children:"autoPlacement()"})," (if used)."]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8914:(e,n,t)=>{t.d(n,{A:()=>s});t(7378);var r=t(3372);const a={tabItem:"tabItem_FS4i"};var l=t(6106);function s(e){let{children:n,hidden:t,className:s}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,s),hidden:t,children:n})}},9269:(e,n,t)=>{t.d(n,{A:()=>y});var r=t(7378),a=t(3372),l=t(2703),s=t(505),i=t(5086),o=t(6656),d=t(2097),c=t(421);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:a}}=e;return{value:n,label:t,attributes:r,default:a}}))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const a=(0,s.W6)(),l=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(l),(0,r.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(a.location.search);n.set(l,e),a.replace({...a.location,search:n.toString()})}),[l,a])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,l=h(e),[s,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:l}))),[d,u]=f({queryString:t,groupId:a}),[m,x]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,l]=(0,c.Dv)(t);return[a,(0,r.useCallback)((e=>{t&&l.set(e)}),[t,l])]}({groupId:a}),b=(()=>{const e=d??m;return p({value:e,tabValues:l})?e:null})();(0,i.A)((()=>{b&&o(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),x(e)}),[u,x,l]),tabValues:l}}var x=t(7606);const b={tabList:"tabList_scTV",tabItem:"tabItem_tmPb"};var g=t(6106);function w(e){let{className:n,block:t,selectedValue:r,selectValue:s,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,l.a_)(),c=e=>{const n=e.currentTarget,t=o.indexOf(n),a=i[t].value;a!==r&&(d(n),s(a))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:l}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>o.push(e),onKeyDown:u,onClick:c,...l,className:(0,a.A)("tabs__item",b.tabItem,l?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:l}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===l));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==l})))})}function v(e){const n=m(e);return(0,g.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,g.jsx)(w,{...n,...e}),(0,g.jsx)(j,{...n,...e})]})}function y(e){const n=(0,x.A)();return(0,g.jsx)(v,{...e,children:u(e.children)},String(n))}},2036:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(7378);const a={},l=r.createContext(a);function s(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);